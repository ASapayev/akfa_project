<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.all.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.3/dist/sweetalert2.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <title>Document</title>
</head>

<body>
  <div class="container">

    
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Akfa</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Dropdown
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="dropdown-item" href="#">Action</a>
              <a class="dropdown-item" href="#">Another action</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item" href="#">Something else here</a>
            </div>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
        </ul>
        <!-- <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form> -->
      </div>
    </nav>
    <!-- <a href="{% url 'excel' %}" class="btn btn-primary ">Convert to Sql</a>
    <a href="{% url 'excel' %}" class="btn btn-success ">Show All Datas</a> -->
  </div>
  <div class="container">

    {% if normas %}
    <br>
    <label><em> <b>Изменить Нормы</b></em></label>
    <label for="rg-from"></label>
    <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col"> Устаревший</th>
            <th scope="col">КОМПОНЕНТ</th>
            <th scope="col">КОМПОНЕНТ</th>
            <th scope="col">КОМПОНЕНТ</th>
            <th scope="col">АРТИКУЛ</th>
            <th scope="col">Серия</th>
            <th scope="col">Наименование</th>
            <th scope="col"> Внешний периметр профиля/ мм</th>
            <th scope="col"> Площадь /мм²</th>
            <th scope="col"> Площадь /мм²</th>
            <th scope="col"> Удельный вес профиля кг/м</th>
            <th scope="col">  Диаметр описанной окружности/мм</th>
            <th scope="col"> Длина профиля/м</th>
            <th scope="col"> Расчетное кол-во профиля/шт</th>
            <th scope="col"> Общий вес профиля/кг</th>
            <th scope="col"> расход сплава на 1000 шт профиля/кг</th>
            <th scope="col">при этом % тех.отхода БАЛВАШКА</th>
            <th scope="col">при этом % тех.отхода 1-МЕТР БРАК</th>
            <th scope="col">при этом % тех.отхода СТРУЖКА</th>
            <th scope="col"> Графитовая</th>
            <th scope="col"> пилы холодной резки (Солярка)</th>
            <th scope="col">  горячей резки (Солярка)</th>
            <th scope="col"> графитовые плиты</th>
            <th scope="col"> POLITOKSAL AC 25P </th>
            <th scope="col"> ALUPOL СR 51 </th>
            <th scope="col"> ALUPOL AC 52</th>
            <th scope="col"> толщина покрытия, мкм </th>
            <th scope="col"> расход /кг на 1000 профилей </th>
            <th scope="col"> при этом % тех.отхода </th>
            <th scope="col"> Сублимация							
              ширина декор пленки/мм (Зол.дуб)  </th>
            <th scope="col">Сублимация							
              расход на 1000 профиль/м²</th>
            <th scope="col">Сублимация							
              ширина декор пленки/мм (3Д 3137-01) </th>
            <th scope="col">расход на 1000 профиль/м²
            </th>
            <th scope="col"> ширина декор пленки/мм (Дуб.мокко)  
            </th>
            <th scope="col">расход на 1000 профиль/м²
            </th>
            <th scope="col"> ширина декор пленки/мм (3Д 3137-02)  
            </th>
            <th scope="col">Сублимация расход на 1000 профиль/м²
            </th>
            <th scope="col">" ширина 
              мол- скотча/мм "
              </th>
            <th scope="col"> расход на 1000 профиль/шт 
            </th>
            <th scope="col">" ширина 
              мол- скотча/мм "
              </th>
            <th scope="col"> расход на 1000 профиль/шт 
            </th>
            <th scope="col">Термомост 
            </th>
            <th scope="col">Термомост 
            </th>
            <th scope="col">Термомост 
            </th>
            <th scope="col">Термомост 
            </th>
            <th scope="col"> ширина ленты/мм 
            </th>
            <th scope="col">расход ленты на 1000 профилей/м²
            </th>
            <th scope="col"> ширина ленты/мм 
            </th>
            <th scope="col">расход ленты на 1000 профилей/м²
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м²
            </th>
            <th scope="col"> расход праймера на 1000 штук профилей/кг 
            </th>
            <th scope="col"> расход клея на 1000 штук профилей/кг 
            </th>
            <th scope="col"> Расход упаковочного материала (мешок) на 1000 профилей 
            </th>
            <th scope="col">ширина ленты/мм            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профилей/м2
            </th>
            <th scope="col">ширина ленты/мм
            </th>
            <th scope="col">расход ленты на 1000 профиль/м2
            </th>
            <th scope="col"> ширина упоковочной ленты/мм 
            </th>
            <th scope="col"> расход упоковочной ленты на 1000 штук /кг 
            </th>
            <th scope="col"> расход упоковочной ленты на 1000 штук /кг 
            </th>
            <th scope="col"> ширина скотча/мм 
            </th>
            <th scope="col">расход скотча на 1000 штук /Шт
            </th>
            <th scope="col">Кол-во профилей в 1- пачке
            </th>
            <th scope="col"> Алюминиевый сплав 6063 
            </th>
            <th scope="col"> Алюминиевый сплав биллетов Ø102 Ø178 
            </th>
          </tr>
        </thead>
        <tbody>
                {%for norma in normas%}
                    <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td class ='new_char_five' class="w-25 p-3"><input class="w-75" type='text'  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text'  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text'  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='groupmaterialtwo{{forloop.counter}}'  class="w-50" required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td class ='new_char_five' ><input type='text' class="w-50"  id ='artikulfive{{forloop.counter}}' value='{{norma}}' required></td>
                        <td ><input type='text' class="w-50"  id ='komponentfive{{forloop.counter}}' required></td>
                        <td ><input type='text' class="w-50"  id ='seriafive{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescru{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkaartikultwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='proverkacomponenttwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterial{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='groupmaterialtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        <td ><input type='text' class="w-50"  id ='productdescrutwo{{forloop.counter}}'  required></td>
                        <td ><input type='text'  id ='stariykodbenkamtwo{{forloop.counter}}'  required></td>
                        
                    </tr>
                {% endfor %}

        </tbody>
      </table>
      <button class='btn btn-md btn-primary ' onclick ='artikul_component()' id ='char_four'>Создать</button>
      <hr>
    {% endif %}


    

   

    

    <div class='m-3'></div>
    <div class='d-flex justify-content-between'>
      <div ><a href='' class='btn btn-warning btn-lg'>Done</a></div>
      
      <div ><span class='btn btn-warning btn-lg' onclick='excel_file_load()' >Excel file Load...</span></div>
    </div>

    
  </div>

<div class="p-3"></div>
  </div>
</body>
<script>
  function excel_file_load(){

    document.body.style.cursor='wait';

    $.ajax({
      method: "POST",
      url: "{% url 'excel_does_not_exists_add_simple' %}"
    }).done(function( msg ) {
      document.body.style.cursor='default';
      if (msg.saved ==true){
          Swal.fire({
              position: 'top-end',
              icon: 'success',
              title: 'Successfuly saved!',
              showConfirmButton: false,
              timer: 1500
            })
          
          }else{
              Swal.fire({
                  icon: 'error',
                  title: 'Oops...',
                  text: 'Something went wrong!'
                })

          }
      });
  }
    
    function artikul_component(){

        var new_char = document.querySelectorAll('.new_char_five');
        var artikul,komponent,seria,product_description_ru,product_description_ru2,startiy_kod_bekam,stariy_code_jomiy,proverka_artikul2;
        var proverka_component2,gruppa_materialov,gruppa_materialov2

        var default_exists = false;
        var elements =[];

        for(let i=1; i < new_char.length+1; i++){
            artikul = document.getElementById('artikulfive' + i.toString()).value;
            komponent = document.getElementById('komponentfive' + i.toString()).value;
            seria = document.getElementById('seriafive' + i.toString()).value;
            product_description_ru = document.getElementById('productdescru' + i.toString()).value;
            proverka_artikul2 = document.getElementById('proverkaartikultwo' + i.toString()).value;
            proverka_component2 = document.getElementById('proverkacomponenttwo' + i.toString()).value;
            gruppa_materialov = document.getElementById('groupmaterial' + i.toString()).value;
            gruppa_materialov2 = document.getElementById('groupmaterialtwo' + i.toString()).value;
            product_description_ru2 = document.getElementById('productdescrutwo' + i.toString()).value;
            startiy_kod_bekam = document.getElementById('stariykodbenkamtwo' + i.toString()).value;
            stariy_code_jomiy = document.getElementById('stariykodjomiytwo' + i.toString()).value;
            
            
            if (artikul ==''){
              default_exists = true;
              break
              }
            if (komponent ==''){
              default_exists = true;
              break
              }
            if (seria ==''){
              default_exists = true;
              break
              }
            if (product_description_ru ==''){
              default_exists = true;
              break
              }
            if (proverka_artikul2 ==''){
              default_exists = true;
              break
              }
            if (proverka_component2 ==''){
              default_exists = true;
              break
              }
            if (gruppa_materialov ==''){
              default_exists = true;
              break
              }
            if (gruppa_materialov2 ==''){
              default_exists = true;
              break
              }
            if (product_description_ru2 ==''){
              default_exists = true;
              break
              }
            if (startiy_kod_bekam ==''){
              default_exists = true;
              break
              }
            if (stariy_code_jomiy ==''){
              default_exists = true;
              break
              }
            
            var element ={
                  'artikul':artikul,
                  'komponent':komponent,
                  'seria':seria,
                  'product_description_ru':product_description_ru,
                  'proverka_artikul2':proverka_artikul2,
                  'proverka_component2':proverka_component2,
                  'gruppa_materialov':gruppa_materialov,
                  'gruppa_materialov2':gruppa_materialov2,
                  'product_description_ru2':product_description_ru2,
                  'startiy_kod_bekam':startiy_kod_bekam,
                  'stariy_code_jomiy':stariy_code_jomiy 
              }
            elements.push(element);
              
            }

            if (default_exists){
              Swal.fire({
                  title: 'Malumotlar to\'liq emas,qaytadan urining !!! ',
                  showDenyButton: true,
                })
              }else{
                var myJsonelements = JSON.stringify(elements);
    
                $.ajax({
                    method: "POST",
                    url: "{% url 'artikul_component_aluminiy' %}",
                    data: {"data":myJsonelements}
                  }).done(function( msg ) {
                    if (msg.saved ==true){
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            title: 'Successfuly saved!',
                            showConfirmButton: false,
                            timer: 1500
                          })
                        var btn = document.getElementById('char_four');
                        btn.setAttribute('disabled','True');
                        }else{
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: 'Something went wrong!'
                              })
    
                        }
                    });
            }        
    }
    function baza_profiley(){
        var new_char = document.querySelectorAll('.new_char_two');
        var komponent, artikul,seria,startiy_kod_bekam,stariykod,oldprod_des,prodesc;
        var default_exists = false;
        var elements =[];

        for(let i=1; i < new_char.length+1; i++){
            komponent = document.getElementById('komponent' + i.toString()).value;
            artikul = document.getElementById('artikultwo' + i.toString()).value;
            seria = document.getElementById('seria' + i.toString()).value;
            startiy_kod_bekam = document.getElementById('stariykodbenkam' + i.toString()).value;
            stariykod = document.getElementById('stariykod' + i.toString()).value;
            oldprod_des = document.getElementById('oldprodesc' + i.toString()).value;
            prodesc = document.getElementById('prodesc' + i.toString()).value;
            
            if (komponent ==''){
              default_exists = true;
              break
              }
            if (artikul ==''){
              default_exists = true;
              break
              }
            if (seria ==''){
              default_exists = true;
              break
              }
            if (startiy_kod_bekam ==''){
              default_exists = true;
              break
              }
            if (stariykod ==''){
              default_exists = true;
              break
              }
            if (oldprod_des ==''){
              default_exists = true;
              break
              }
            if (prodesc ==''){
              default_exists = true;
              break
              }
            
            var element ={
                  'komponent':komponent,
                  'artikul':artikul,
                  'seria':seria,
                  'startiy_kod_bekam':startiy_kod_bekam,
                  'stariykod':stariykod,
                  'oldprod_des':oldprod_des,
                  'prodesc':prodesc,
              }
            elements.push(element);
              
            }

            if (default_exists){
              Swal.fire({
                  title: 'Malumotlar to\'liq emas,qaytadan urining !!! ',
                  showDenyButton: true,
                })
              }else{
                var myJsonelements = JSON.stringify(elements);
    
                $.ajax({
                    method: "POST",
                    url: "{% url 'baza_profile_simple' %}",
                    data: {"data":myJsonelements}
                  }).done(function( msg ) {
                    if (msg.saved ==true){
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            title: 'Successfuly saved!',
                            showConfirmButton: false,
                            timer: 1500
                          })
                        var btn = document.getElementById('char_three');
                        btn.setAttribute('disabled','True');
                        }else{
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: 'Something went wrong!'
                              })
    
                        }
                    });
            }        
    }

    function create_new_char_one(){
        var new_char = document.querySelectorAll('.new_char_one');
        var matritsa, artikul,heigth,width,height_and_width,systems;
        var default_exists = false;
        var elements =[];

        for(let i=1; i < new_char.length+1; i++){
            matritsa = document.getElementById('matritsa' + i.toString()).value;
            artikul = document.getElementById('artikulone' + i.toString()).value;
            heigth = document.getElementById('height' + i.toString()).value;
            width = document.getElementById('width' + i.toString()).value;
            height_and_width = document.getElementById('height_and_width' + i.toString()).value;
            systems = document.getElementById('systems' + i.toString()).value;
            
            if (matritsa ==''){
              default_exists = true;
              break
              }
            if (artikul ==''){
              default_exists = true;
              break
              }
            if (heigth ==''){
              default_exists = true;
              break
              }
            if (width ==''){
              default_exists = true;
              break
              }
            if (height_and_width ==''){
              default_exists = true;
              break
              }
            if (systems ==''){
              default_exists = true;
              break
              }
            
            var element ={
                  'matritsa':matritsa,
                  'artikul':artikul,
                  'heigth':heigth,
                  'width':width,
                  'height_and_width':height_and_width,
                  'systems':systems,
              }
            elements.push(element);
              
            }

            if (default_exists){
              Swal.fire({
                  title: 'Malumotlar to\'liq emas,qaytadan urining !!! ',
                  showDenyButton: true,
                })
              }else{
                var myJsonelements = JSON.stringify(elements);
    
                $.ajax({
                    method: "POST",
                    url: "{% url 'add_char_utils_one_simple' %}",
                    data: {"data":myJsonelements}
                  }).done(function( msg ) {
                    if (msg.saved ==true){
                        Swal.fire({
                            position: 'top-end',
                            icon: 'success',
                            title: 'Successfuly saved!',
                            showConfirmButton: false,
                            timer: 1500
                          })
                        var btn = document.getElementById('char_one');
                        btn.setAttribute('disabled','True');
                        }else{
                            Swal.fire({
                                icon: 'error',
                                title: 'Oops...',
                                text: 'Something went wrong!'
                              })
    
                        }
                    });
            }        
    }
    function create_new_char_two(){
        var new_char = document.querySelectorAll('.new_char');

        var selection, value,text,artikul;

        var default_exists = false;
        var elements =[];

        for(let i=1; i < new_char.length+1; i++){
            artikul = document.getElementById('artikul' + i.toString());
            selection = document.getElementById('sel' + i.toString());
            value = selection.value
            text = selection.options[selection.selectedIndex].text;
            if (text =='Default'){
                default_exists = true;
                break
            }
            var element ={
                'artikul':artikul.innerText,
                'selection':text
            }
            if (elements.includes(element)){
                continue
            }else{
                elements.push(element);
            }
            
        }
        if (default_exists){
            Swal.fire({
                title: 'Malumotlar to\'liq emas,qaytadan urining !!! ',
                showDenyButton: true,
              })
        }else{
            var myJsonelements = JSON.stringify(elements);

            $.ajax({
                method: "POST",
                url: "{% url 'add_char_utils_two_simple' %}",
                data: {"data":myJsonelements}
              }).done(function( msg ) {
                if (msg.saved ==true){
                    Swal.fire({
                        position: 'top-end',
                        icon: 'success',
                        title: 'Successfuly saved!',
                        showConfirmButton: false,
                        timer: 1500
                      })
                    var btn = document.getElementById('char_two');
                    btn.setAttribute('disabled','True');
                    }else{
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'Something went wrong!'
                          })

                    }
                });
        }
        
    }
    
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</html>