{% extends 'base.html'%}


{% block content %}
<div class="main-panel">
    <div class="content-wrapper">
      <div class="page-header">
        <h3 class="page-title"> {{section}} </h3>
        <nav aria-label="breadcrumb">
          <a href="{%url 'upload_ves_aluminiy' %}" class="btn btn-primary"><i class="bi bi-cloud-arrow-up-fill"></i> UPLOAD FROM FILE</a>
        </nav>
      </div>
      <div class="row ">
        <div class="col-12 grid-margin">
          <div class="card">
            <div class="card-body">
              <h4 class="card-title">Лист</h4>
              <div class="table-responsive">
                <form method="POST">
                    {%csrf_token%}
                <table class="table">
                  <thead>
                    <tr id="headers">
                      <th >
                        #
                      </th>
                      <th > Artikul </th>
                      <th > Component </th>
                      <!-- <th > LENGTH</th> -->
                    </tr>
                  </thead>
                  <tbody>
                    
                    <tr id="metr-fields">
                      <td>
                        1
                      </td>
                      <td>
                        <span class="pl-2">{{form.artikul}}</span>
                      </td>
                      <td>{{form.component}} </td>
                      
                      
                    </tr>
                    
                  </tbody>
                </table>
                
                <div class="row p-2">
                    <div class="col-5"></div>
                    <div class="col-2">
                        <input type="submit" class=" btn btn-success" value="SAVE">
                    </div>
                    <div class="col-5"></div>
                </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
   
  </div>

<script>
  
    const defaultValuesMetr = {
        "Неокрашенный": "",
        "Окрашенный": "",
        "Сублимированный": "",
        "Анодированный": "",
        "Ламинированный": "",
        "Белый": ""
    };

    // Function to populate fields with default values
    function populateFields() {

        const headers = document.getElementById('headers');
        const metrContainer = document.getElementById('metr-fields');

        for (const key in defaultValuesMetr) {
            const div = document.createElement('th');
            div.innerHTML = `${key} (вес за метр)`;
            headers.appendChild(div);
        }

        for (const key in defaultValuesMetr) {
            const div = document.createElement('td');
            div.innerHTML = `
              <div>
                <input type="text" style='width:70px' name="ves_za_metr[${key}]" value="" required>
              </div>
            `;
            metrContainer.appendChild(div);
        }
    }

    // Run the function when the DOM is fully loaded
    document.addEventListener('DOMContentLoaded', populateFields);
</script>

{% endblock %}